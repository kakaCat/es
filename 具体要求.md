# ES Serverless 平台具体功能要求

## 容器组管理功能

### 创建容器组
根据以下参数创建容器组：
- 用户
- 服务名称
- CPU个数
- 内存大小
- 硬盘大小
- 卡数量
- 维度
- 底库向量数
- 副本数量

从GitLab上拉取docker-compose.yml，创建数据同步到租户容器管理，上报部署情况。

### 容器操作
- 重启容器
- 删除容器

## 数据管理功能

### 索引数据操作
- 查询索引数据（对应一个容器组）
- 添加索引数据（插件上报）

## 监控系统功能

### 容器监控
- 查询容器监控系统：容器上线CPU、内存、硬盘数据，插件上报QPS数据

### 数据采集
- 拉取CPU、内存、硬盘数据：每次副本上报数据，根据用户配置判断是否要添加容器，每次副本上报数据，根据用户是否有要回收容器
- 拉取QPS数据：每次副本上报数据，根据用户配置判断是否要添加容器，每次副本上报数据，根据用户是否有要回收容器

## 查询功能

### 服务查询
- 查询服务（容器组）列表
- 服务详情：服务名称、CPU个数、内存大小、硬盘大小、卡数量、维度、底库向量数、副本数量

### 容器查询
- 查询容器列表

## Elasticsearch插件要求

实现向量检索引擎，调用卡做向量计算，实现实现 IVF 算法：
- nlist（倒排簇数）
- nprobe（搜索簇数）
- cluster centroids 训练（KMeans）
- 倒排表构建（posting lists）

插件需支持：
- 索引构建
- 索引更新
- 批量查询
- 上报索引数据
- 查询QPS数据

## Docker环境要求
- 安装Elasticsearch
- 安装ES插件
- 安装上报组件
- 安装日志组件